// distance measure code
#define echoPin										 \
	2 // attach pin D2 Arduino to pin Echo of HC-SR04
#define trigPin										 \
	3 // attach pin D3 Arduino to pin Trig of HC-SR04										 \


long duration; // Variable to store time taken to the pulse
			// to reach receiver

int distance; // Variable to store distance calculated using
			// formula

int motor1pin1 = 2;
int motor1pin2 = 3;

int motor2pin1 = 4;
int motor2pin2 = 5;

void setup() {
  
	pinMode(trigPin, OUTPUT); // Sets the trigPin as an OUTPUT
	pinMode(echoPin, INPUT); // Sets the echoPin as an INPUT

	// Serial Communication is starting with 9600 of
	// baudrate speed
	Serial.begin(9600);

	// The text to be printed in serial monitor
	delay(500);

  // put your setup code here, to run once:
  pinMode(motor1pin1, OUTPUT);
  pinMode(motor1pin2, OUTPUT);
  pinMode(motor2pin1, OUTPUT);
  pinMode(motor2pin2, OUTPUT);

  // pins for speed control
  pinMode(9,   OUTPUT); 
  pinMode(10, OUTPUT);
}

void loop() {

  digitalWrite(trigPin, LOW);
	delayMicroseconds(2); // wait for 2 ms to avoid
						// collision in serial monitor

	digitalWrite(trigPin,HIGH); // turn on the Trigger to generate pulse
	delayMicroseconds(10); // keep the trigger "ON" for 10 ms to generate
			// pulse for 10 ms.

	digitalWrite(trigPin,LOW); // Turn off the pulse trigger to stop
					// pulse generation

	// If pulse reached the receiver echoPin
	// become high Then pulseIn() returns the
	// time taken by the pulse to reach the
	// receiver

	duration = pulseIn(echoPin, HIGH);
	distance = duration * 0.0344 / 2; // Expression to calculate , distance using time
	delay(100);

  //Controlling speed (0   = off and 255 = max speed):     
  analogWrite(9, 100); //ENA   pin
  analogWrite(10, 200); //ENB pin


  //prob chosing direction
  digitalWrite(motor1pin1,   HIGH);
  digitalWrite(motor1pin2, LOW);

  digitalWrite(motor2pin1, HIGH);
  digitalWrite(motor2pin2, LOW);

  //i assume its how long the engines run for, prob 3000 miliseconds?
  delay(3000);

  //i assume changing direction for the other direction which we chose before.
  digitalWrite(motor1pin1,   LOW);
  digitalWrite(motor1pin2, HIGH);

  digitalWrite(motor2pin1, LOW);
  digitalWrite(motor2pin2, HIGH);

  //i assume its how long the engines run for, prob 3000 miliseconds?
  delay(3000);
}
